\subsection{Introduction to twisted involutions}
\label{sec:twisted-involutions-introduction}

\begin{defi}
	An automorphism $\theta : W \to W$ with $\theta(S) = S$ is called a \defword{Coxeter system automorphism} of $(W,S)$. We will always assume $\theta^2 = \id$.
\end{defi}

\begin{defi}
	Each $w \in W$ with $\theta(w) = w^{-1}$ is called a \defword{twisted involution}. The set of all twisted involutions in $W$ regarding $\theta$ is denoted with $\ti{\theta}(W)$. Often we will just omit the Coxeter group and write $\ti{\theta}$, when it is clear from the context which $W$ is meant.
\end{defi}

Lets take a quick look at some examples. First of all the trivial one.

\begin{exam}
	Let $\theta = \id_W$. Then $\theta$ is an Coxeter system automorphism and
	$$ \ti{\theta} = \{ w \in W : w = w^{-1} \}. $$
\end{exam}

The next example is more helpfull, since it reveals a way to think of $\ti{\theta}$ as a generalization of ordinary Coxeter groups.

\begin{exam}
	Let $\theta$ be a automorphism of $W \times W$ with
	$$ \theta : W \times W \to W \times W : (u,w) \mapsto (w,u). $$
	Note that $\theta$ is no Coxeter system automorphism, but we can think of it as one if we identify $S \subset W$ with $S \times S \subset W \times W$.
	Then the set of twisted involutions is
	$$ \ti{\theta} = \{ (w,w^{-1}) \in W \times W : w \in W \}. $$
	This yields a canonical bijection between $\ti{\theta}$ and $W$.
\end{exam}

The map we will define right now is of superior importance to this whole paper, since it is needed to define the poset, the main thesis is about.

\begin{defi}
	\typedlabel{defi:twisted-operation}
	Let $\ul S := \{ \ul s : s \in S \}$ be a set of symbols. Each element in $\ul S$ acts from the right on $W$ by the following definition:
	$$ w \ul s = \begin{cases}
		ws & \textrm{if } \theta(s)ws = w \\
		\theta(s)ws & \textrm{else} \\
	\end{cases} $$
	This action can be extended on the whole free monoid over $\ul S$ by
	$$ w \ul{s_1 s_2 \ldots s_k} = (\ldots ((w \ul{s_1}) \ul{s_2}) \ldots) \ul{s_k}. $$
	If $w \ul s = \theta(s)ws$, then we say $s$ \defword{acts bothsided} on $w$. Else we say $s$ \defword{acts onesided} on $w$.
\end{defi}

\begin{defi}
	\typedlabel{defi:twisted-expression}
	Let $k \in \nn$ and $s_{i_j} \in S$ for all $1 \leq j \leq k$. Then an expression $w \ul{s_{i_1} \cdots s_{i_k}}$ is called \defword{twisted $w$-expression}. In case $w = e$ we will omit $w$, just write $\ul{s_{i_1} \cdots s_{i_k}}$ and call it \defword{twisted expression}.
\end{defi}

There is another characterization of this action, distinguishing between one- and bothsided actions by lengths.

\begin{lemm}
	\typedlabel{lemm:twisted-operation-2}
	Let $w \in \ti{\theta}$ and $s \in S$. Then
	$$ w \ul s = \begin{cases}
		ws & \textrm{if } l(\theta(s)ws) = l(w), \\
		\theta(s)ws & \textrm{else}. \\
	\end{cases} $$

	\begin{proof}
		Suppose $s$ acts oneside on $w$. Then $\theta(s)ws = w$ and so $l(\theta(s)ws) = l(w)$. So let the other way around $l(\theta(s)ws) = l(w)$. \todo
	\end{proof}
\end{lemm}

\begin{lemm}
	\typedlabel{lemm:l-ws-lower-l-w-iff-l-w-ul-s-lower-l-w}
	It is $l(ws) < l(w)$ iff $l(w \ul s) < l(w)$.

	\begin{proof}
		Suppose $s$ acts onesided on $w$. Then $w \ul s = ws$ and there is nothing to prove. So suppose $s$ acts bothsided on $w$. If $l(ws) < l(w)$, then \ref{lemm:length-function-properties} yields $l(ws) + 1 = l(w)$. Assuming $l(w \ul s) = l(\theta(s)ws) \not < l(w)$ would lead to $l(\theta(s)ws) = l(w)$, but then \ref{lemm:twisted-operation-2} says that $s$ acts oneside on $w$, which is a contradiction. So let $l(\theta(s)ws) < l(w)$. Then \ref{lemm:length-function-properties} yields $l(\theta(s)ws) + 2 = l(w)$ and so $l(ws) + 1 = l(w)$.
	\end{proof}
\end{lemm}

\begin{lemm}
	\typedlabel{lemm:w-ul-ss-eq-w}
	For all $w \in W$ and $s \in S$ it is $w \ul {ss} = w$.

	\begin{proof}
		For $w \ul s$ there are two cases. Suppose $s$ acts onesided on $w$, i.e. $\theta(s)ws = w$. For $ws \ul s$ there are again two possible options.
		$$ ws \ul s = \begin{cases}
			wss = w & \textrm{if } \theta(s)wss = ws \\
			\theta(s)wss = ws & \textrm{else} \\
		\end{cases} $$
		The second option contradicts itself.

		So lets now suppose $s$ acts bothsided on $w$. This means $\theta(s)ws \neq w$ and for $(\theta(s)ws) \ul s$ there are again two possible options.
		$$ (\theta(s)ws) \ul s = \begin{cases}
			\theta(s)wss = \theta(s)w & \textrm{if } \theta(s) \theta(s) w ss = \theta(s) w s \\
			\theta(s)\theta(s)wss = w & \textrm{else} \\
		\end{cases} $$
		The first option is impossible since $\theta(s) \theta(s) w ss = w$ and we have assumed $\theta(s)ws \neq w$. So the only cases possible yield $w \ul s \ul s = w$.
	\end{proof}
\end{lemm}

\begin{rema}
	This lemma allows us to to rewrite equations of twisted expressions. For example
	$$ u = w \ul s \iff u \ul s = w \ul s \ul s = w. $$
	This can be iterated to get
	$$ u = w \ul s_1 \ldots \ul s_k \iff u \ul s_k \ldots \ul s_1 = w. $$
\end{rema}

\begin{lemm}
	\typedlabel{lemm:w-in-ti-iff-w-ul-s-in-ti}
	For all $\theta$, $w \in W$ and $s \in S$ it is $w \in \ti{\theta}$ iff $w \ul s \in \ti{\theta}$.

	\begin{proof}
		Let $w \in \ti{\theta}$. For $w \ul s$ there are two cases. Suppose $s$ acts onesided on $w$. Then we get
		$$ \theta(ws) = \theta(\theta(s)wss) = \theta^2(s) \theta(w) = sw^{-1} = (ws^{-1})^{-1} = (ws)^{-1}. $$
		Suppose $s$ acts bothsided on $w$. Then we get
		$$ \theta(\theta(s)ws) = \theta^2(s) \theta(w) \theta(s) = sw^{-1}\theta(s) = (\theta^{-1}(s)ws^{-1})^{-1} = (\theta(s)ws)^{-1}. $$
		In both cases $w \ul s \in \ti{\theta}$.

		Now let $w \ul s \in \ti{\theta}$. Suppose $s$ acts onesided on $w$. Then
		$$ \theta(w) = \theta(\theta(s)ws) = \theta^2(s)\theta(ws) = s (ws)^{-1} = ss^{-1}w^{-1} = w^{-1}. $$
		Suppose $s$ acts twosided on $w$. Then
		\begin{align*}
			\theta(w)	& = \theta(\theta(s)\theta(s)wss) = \theta^2(s) \theta(\theta(s)ws) \theta(s) \\
						& = s (\theta(s)ws)^{-1} \theta(s) = s(s^{-1} w^{-1} \theta(s^{-1}) \theta(s) = w^{-1}.
		\end{align*}
		In both cases $w \in \ti{\theta}$.
	\end{proof}
\end{lemm}

A remarkable property of the action from \ref{defi:twisted-operation} is its $e$-orbit. As the following lemma will shows, it coincides with $\ti{\theta}$.

\begin{lemm}
	\typedlabel{lemm:twisted-e-orbit-coincides-with-twisted-involutions}
	Fix $\theta$. Then the set of twisted involutions regarding $\theta$ coincides with the set of all twisted expressions regarding $\theta$.

	\begin{proof}
		As already seen in \ref{lemm:w-in-ti-iff-w-ul-s-in-ti}, each twisted expression is in $\ti{\theta}$, since $e \in \ti{\theta}$. So let $w \in \ti{\theta}$. If $l(w) = 0$, then $w = e \in \ti{\theta}$. Lets induce on the length of $w$ and let $l(w) = r > 0$. Suppose $w$ has a twisted expression ending with $\ul s$. Then $w$ also has a reduced expression (in $S$) ending with $s$ and so $l(ws) < l(w)$. With \ref{lemm:l-ws-lower-l-w-iff-l-w-ul-s-lower-l-w} we get $l(w \ul s) < l(w)$. By induction $w \ul s$ has twisted expression and hence $w = (w \ul s) \ul s$ has one, too.
	\end{proof} 
\end{lemm}

In the same way, we can use regular expressions to define the length of an element $w \in W$, we can use the twisted expressions to define the twisted absolute length of an element $w \in \ti{\theta}$.

\begin{defi}
	Let $\ti{\theta}$ be the set of twisted involutions. Then we define $l^\theta(w)$ as the smallest $k \in \nn$ for that a twisted expression $w = \ul {s_1 \ldots s_k}$ exists. This is called the \defword{twisted absolute length} of $w$.
\end{defi}

\begin{lemm}
	The set of twisted involutions $\ti{\theta}$ together with the Bruhat ordering, denoted with $\Br(\ti{\theta})$, is a graded poset with $\rho(w) = (l(w) + l^\theta(w))/2$ as rank function.

	\begin{proof}
		See \cite[Theorem 4.8]{hultman:bruhat-order}.
	\end{proof}
\end{lemm}

\begin{defi}
	\typedlabel{defi:residuum}
	Let $w \in W$ and $I \subset S$ be a subset of generators. Then we define
	$$ wC_I := \{ w \ul{s_1} \ldots \ul{s_k} : k \in \nn_0, s_i \in S \} $$
	as the \defword{$I$-residuum} of $w$. Each set that can be obtained in this way is called \defword{residuum}. To emphasize the size of $I$, say $|I| = n$, we will also speak of \defword{rank-$n$-residuum}.
\end{defi}

\begin{exam}
	Let $w \in W$. Then $wC_\emptyset = \{ w \}$ and $wC_S = \ti{\theta}$.
\end{exam}

\begin{lemm}
	\typedlabel{lemm:all-elements-of-one-residuum-yield-the-same-residuum}
	Let $w \in W$ and $I \subset S$. If $v \in wC_I$, then $vC_I = wC_I$.

	\begin{proof}
		Suppose $v \in wC_I$. Then $v = w \ul s_1 \ldots \ul s_n$ for some $s_i \in I$. Suppose $u = w \ul t_1 \ldots \ul t_m \in wC_I$ be any other element in $wC_I$ with $t_i \in I$. Then
		$$ u = w \ul t_1 \ldots \ul t_m = (v \ul s_n \ldots \ul s_1) \ul t_1 \ldots \ul t_m $$
		and so $u \in vC_I$. This yields $wC_I \subset vC_I$. Since $w \in vC_I$ we can swap $v$ and $w$ to get the other inclusion.
	\end{proof}
\end{lemm}

\begin{coro}
	Let $v, w \in W$ and $I \subset S$. Then either $vC_I \cap wC_I = \emptyset$ or $vC_I = wC_I$.

	\begin{proof}
		Immediately from \ref{lemm:all-elements-of-one-residuum-yield-the-same-residuum}.
	\end{proof}
\end{coro}

\todo